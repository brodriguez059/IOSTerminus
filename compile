#!/bin/bash

for i in $@
do
    FILE=${i}
    if [ ! -f src/$FILE.c ]; then
        echo "[Error] Cannot compile $FILE, file src/$FILE.c was not found"
    else
        echo Compilling $FILE...
        if [ "$FILE" = "main" ]; then
            gcc -g -Iincludes -Wall src/obj/cd.o -et_main src/$FILE.c -o main
            echo "Stored in ./main (main executable)"
        else
            gcc -g -Iincludes -Wall src/$FILE.c -o bin/commands/$FILE
            echo Stored in bin/commands/$FILE
        fi
    fi

done
